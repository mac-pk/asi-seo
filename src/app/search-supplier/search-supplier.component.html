<div class="row esp-sub-header pt-2">
    <div *ngIf="isLoading" class="progress-img d-flex text-center">
        <img src="assets/images/esp-loader-genreal.gif" class="justify-content-center align-self-center mx-auto">
    </div>
    <div class="col">
        <figure><img src="./assets/images/image.png"></figure>
    </div>
    <div class="col text-right">
    </div>
    <app-page *ngIf='suppliers && suppliers.length > 0' [currPage]='currPage' [totalCount]='totalCount'
        (navigate)="navigatePage($event)">
    </app-page>
</div>
<div class="row h-100">

    <div class="col-12">
        <div class="d-block border h-100 pb-5 mb-5">
            <form (ngSubmit)="searchSuppliers(searchSupplierForm)" #searchSupplierForm="ngForm">
                <div class="col-12 col-md-6 col-lg-3">
                    <h5 class="pt-2">Search for members</h5>
                    <p>Search by name or ASI number</p>
                    <div class="input-group  pt-2">
                        <input type="text" class="form-control" [(ngModel)]="searchText" required autoFocus autocomplete="off"
                            placeholder="Search Suppliers" #searchSupplierText="ngModel" name="searchSupplierText">
                        <div class="input-group-append">
                            <button class="btn btn-search pt-2" type="submit"><i class="material-icons">
                                    search
                                </i></button>
                        </div>
                    </div>
                    <div *ngIf="noSearchResult && (searchSupplierText.dirty || searchSupplierText.touched)"
                        class="error text-danger">
                        <i class="material-icons">info</i>
                        0 results returned
                    </div>
                    <div *ngIf="isSearchPerformed && searchSupplierText.invalid" class="error text-danger">
                        <div *ngIf="searchSupplierText.errors.required">
                            <i class="material-icons">info</i>
                            Provide an ASI number or company name to search
                        </div>
                    </div>
                </div>

            </form>
            <div class="clearfix"></div>
            <div *ngIf='suppliers && suppliers.length > 0'>
                <div class="row pl-3 mb-4" *ngFor="let supplier of suppliers">
                    <div class="col-12 col-md-6 col-lg-3  float-left mt-2 ">
                        <div class="d-block member-details p-2 pl-3">
                            <h6 class="mt-3"><span class="label-red">{{supplier.AsiNumber}}</span>
                                {{supplier.CompanyName}}</h6>
                            <p class="mb-0">{{supplier.Address1}}</p>
                            <p class="mb-0">{{supplier.City}} {{supplier.StateCode}} {{supplier.PostalCode}}</p>
                            <p class="mb-0">{{supplier.PhoneNumber}}</p>
                            <p>Email:<a href="mailto:{{supplier.EmailAddress}}">{{supplier.EmailAddress}}</a></p>
                            <button type="submit" class="btn esp-btn-white my-1 mr-2"><i class="material-icons">
                                    email
                                </i>Email Supplier</button>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-3 float-left p-2 ">
                        <div class="d-block member-details">
                            <table class="table mb-0 member-table">
                                <thead>
                                    <tr>
                                        <td><label class="label-strong">Level:</label></td>
                                        <td>{{supplier.SupplierLevel}}</td>
                                        <td><label class="label-strong">API:</label></td>
                                        <td><label class="label-light"></label>{{supplier.API}}</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><label class="label-strong">Premier</label></td>
                                        <td>{{supplier.Premier}}</td>
                                        <td><label class="label-strong">Replink:</label></td>
                                        <td>{{supplier.Replink}}</td>
                                    </tr>
                                    <tr>
                                        <td><label class="label-strong">TLC:</label></td>
                                        <td>{{supplier.TLC}}</td>
                                        <td><label class="label-strong">Mapped:</label></td>
                                        <td>{{supplier.Mapped}}</td>
                                    </tr>
                                    <tr>
                                        <td><label class="label-strong">Sportlight:</label></td>
                                        <td>{{supplier.Spotlight}}</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="d-block text-right">
                                <button class="btn btn-blue my-1 mr-3" (click)="viewProducts(supplier.CompanyId)">View
                                    Products</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class=" float-right">
                <app-page *ngIf='suppliers && suppliers.length > 0' [currPage]='currPage' [totalCount]='totalCount'
                    (navigate)="navigatePage($event)">
                </app-page>

            </div>

        </div>
    </div>
</div>